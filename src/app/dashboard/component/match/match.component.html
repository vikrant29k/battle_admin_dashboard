<div class="container">
    <h1 style="color: white;">
        Upload Game Image
    </h1>
    <div class="upload-section">

        <div class="file-selection">
            <mat-form-field class="form-group">
                <mat-label>Game Name</mat-label>
                <input matInput #matchName type="text" name="name" placeholder="Enter Match Name" required />
            </mat-form-field>
            <div class="textImgContainer">
                <!-- <div>
                    <input type="text" placeholder="Enter Match Name">
                </div> -->

                <div class="file-chooser">
                    <input type="file" #fileInput style="display: none" accept="image/*"
                        (change)="onFileSelected($event)">

                    <button class="choose-button" (click)="fileInput.click()">Choose a
                        Image</button>
                </div>
            </div>

            <p *ngIf="selectedImg" [class.colorRed]="fileError" class="selected-file-name" style="margin-bottom: 0%;">Selected File: {{
                selectedImg.name }}</p>

            <br />
            <div class="confirm-button">
                <button (click)="onFileUpload(matchName.value)" *ngIf="!updateBtn">Confirm</button>
                <button (click)="updateMatch(matchName.value)" *ngIf="updateBtn">Update</button>
            </div>
        </div>
    </div>

</div>

<div class="table">
    <div class="tableContainer">
        <table>
            <thead class="header">
                <tr>
                    <td>Select</td>
                    <td>Game Name</td>
                    <td>Image</td>
                    <td>Action</td>
                </tr>
            </thead>
            <tbody>
                <ng-container *ngFor="let match of matches">
                    <tr>
                        <td><input [checked]="match.isActive" type="radio" name="selectedMatch"
                                (change)="updateActiveMatch(match)"></td>
                        <td>{{ match.matchName }}</td>
                        <td><img id="img" [src]="baseUrl+'images/' + match.matchAvatar" alt="Image"></td>
                        <!-- <td>{{ match.isActive ? 'Yes' : 'No' }}</td> -->
                        <td>
                            <button mat-icon-button (click)="deleteMatch(match)"><mat-icon>delete</mat-icon></button>
                            <button mat-icon-button (click)="updateMatchBtn(match)"><mat-icon>edit</mat-icon></button>
                        </td>
                    </tr>
                </ng-container>
            </tbody>
        </table>
    </div>
</div>